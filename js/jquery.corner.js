/*
 * jQuery corner plugin: simple corner rounding
 * Examples and documentation at: http://jquery.malsup.com/corner/
 * version 2.11 (15-JUN-2010)
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Dave Methvin and Mike Alsup
 */
(function(d){var a=document.createElement("div").style,i=a.MozBorderRadius!==undefined,l=a.WebkitBorderRadius!==undefined,c=a.borderRadius!==undefined||a.BorderRadius!==undefined,e=document.documentMode||0,h=d.browser.msie&&((d.browser.version<8&&!e)||e<8),j=d.browser.msie&&(function(){var n=document.createElement("div");try{n.style.setExpression("width","0+0");n.style.removeExpression("width")}catch(m){return false}return true})();d.support=d.support||{};d.support.borderRadius=i||l||c;function g(m,n){return parseInt(d.css(m,n))||0}function k(m){var m=parseInt(m).toString(16);return(m.length<2)?"0"+m:m}function b(o){while(o){var m=d.css(o,"backgroundColor"),n;if(m&&m!="transparent"&&m!="rgba(0, 0, 0, 0)"){if(m.indexOf("rgb")>=0){n=m.match(/\d+/g);return"#"+k(n[0])+k(n[1])+k(n[2])}return m}if(o.nodeName.toLowerCase()=="html"){break}o=o.parentNode}return"#ffffff"}function f(o,m,n){switch(o){case"round":return Math.round(n*(1-Math.cos(Math.asin(m/n))));case"cool":return Math.round(n*(1+Math.cos(Math.asin(m/n))));case"sharp":return Math.round(n*(1-Math.cos(Math.acos(m/n))));case"bite":return Math.round(n*(Math.cos(Math.asin((n-m-1)/n))));case"slide":return Math.round(n*(Math.atan2(m,n/m)));case"jut":return Math.round(n*(Math.atan2(n,(n-m-1))));case"curl":return Math.round(n*(Math.atan(m)));case"tear":return Math.round(n*(Math.cos(m)));case"wicked":return Math.round(n*(Math.tan(m)));case"long":return Math.round(n*(Math.sqrt(m)));case"sculpt":return Math.round(n*(Math.log((n-m-1),n)));case"dogfold":case"dog":return(m&1)?(m+1):n;case"dog2":return(m&2)?(m+1):n;case"dog3":return(m&3)?(m+1):n;case"fray":return(m%2)*n;case"notch":return n;case"bevelfold":case"bevel":return m+1}}d.fn.corner=function(m){if(this.length==0){if(!d.isReady&&this.selector){var n=this.selector,o=this.context;d(function(){d(n,o).corner(m)})}return this}return this.each(function(u){var v=d(this),C=[v.attr(d.fn.corner.defaults.metaAttr)||"",m||""].join(" ").toLowerCase(),J=/keep/.test(C),B=((C.match(/cc:(#[0-9a-f]+)/)||[])[1]),p=((C.match(/sc:(#[0-9a-f]+)/)||[])[1]),E=parseInt((C.match(/(\d+)px/)||[])[1])||10,G=/round|bevelfold|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dogfold|dog/,r=((C.match(G)||["round"])[0]),s=/dogfold|bevelfold/.test(C),q={T:0,B:1},y={TL:/top|tl|left/.test(C),TR:/top|tr|right/.test(C),BL:/bottom|bl|left/.test(C),BR:/bottom|br|right/.test(C)},D,M,F,H,z,N,A,K,I,x,L,O,Q,t;if(!y.TL&&!y.TR&&!y.BL&&!y.BR){y={TL:1,TR:1,BL:1,BR:1}}if(d.fn.corner.defaults.useNative&&r=="round"&&(c||i||l)&&!B&&!p){if(y.TL){v.css(c?"border-top-left-radius":i?"-moz-border-radius-topleft":"-webkit-border-top-left-radius",E+"px")}if(y.TR){v.css(c?"border-top-right-radius":i?"-moz-border-radius-topright":"-webkit-border-top-right-radius",E+"px")}if(y.BL){v.css(c?"border-bottom-left-radius":i?"-moz-border-radius-bottomleft":"-webkit-border-bottom-left-radius",E+"px")}if(y.BR){v.css(c?"border-bottom-right-radius":i?"-moz-border-radius-bottomright":"-webkit-border-bottom-right-radius",E+"px")}return}D=document.createElement("div");d(D).css({overflow:"hidden",height:"1px",minHeight:"1px",fontSize:"1px",backgroundColor:p||"transparent",borderStyle:"solid"});M={T:parseInt(d.css(this,"paddingTop"))||0,R:parseInt(d.css(this,"paddingRight"))||0,B:parseInt(d.css(this,"paddingBottom"))||0,L:parseInt(d.css(this,"paddingLeft"))||0};if(typeof this.style.zoom!=undefined){this.style.zoom=1}if(!J){this.style.border="none"}D.style.borderColor=B||b(this.parentNode);F=d(this).outerHeight();for(H in q){z=q[H];if((z&&(y.BL||y.BR))||(!z&&(y.TL||y.TR))){D.style.borderStyle="none "+(y[H+"R"]?"solid":"none")+" none "+(y[H+"L"]?"solid":"none");N=document.createElement("div");d(N).addClass("jquery-corner");A=N.style;z?this.appendChild(N):this.insertBefore(N,this.firstChild);if(z&&F!="auto"){if(d.css(this,"position")=="static"){this.style.position="relative"}A.position="absolute";A.bottom=A.left=A.padding=A.margin="0";if(j){A.setExpression("width","this.parentNode.offsetWidth")}else{A.width="100%"}}else{if(!z&&d.browser.msie){if(d.css(this,"position")=="static"){this.style.position="relative"}A.position="absolute";A.top=A.left=A.right=A.padding=A.margin="0";if(j){K=g(this,"borderLeftWidth")+g(this,"borderRightWidth");A.setExpression("width","this.parentNode.offsetWidth - "+K+'+ "px"')}else{A.width="100%"}}else{A.position="relative";A.margin=!z?"-"+M.T+"px -"+M.R+"px "+(M.T-E)+"px -"+M.L+"px":(M.B-E)+"px -"+M.R+"px -"+M.B+"px -"+M.L+"px"}}for(I=0;I<E;I++){x=Math.max(0,f(r,I,E));L=D.cloneNode(false);L.style.borderWidth="0 "+(y[H+"R"]?x:0)+"px 0 "+(y[H+"L"]?x:0)+"px";z?N.appendChild(L):N.insertBefore(L,N.firstChild)}if(s&&d.support.boxModel){if(z&&h){continue}for(O in y){if(!y[O]){continue}if(z&&(O=="TL"||O=="TR")){continue}if(!z&&(O=="BL"||O=="BR")){continue}Q={position:"absolute",border:"none",margin:0,padding:0,overflow:"hidden",backgroundColor:D.style.borderColor};t=d("<div/>").css(Q).css({width:E+"px",height:"1px"});switch(O){case"TL":t.css({bottom:0,left:0});break;case"TR":t.css({bottom:0,right:0});break;case"BL":t.css({top:0,left:0});break;case"BR":t.css({top:0,right:0});break}N.appendChild(t[0]);var P=d("<div/>").css(Q).css({top:0,bottom:0,width:"1px",height:E+"px"});switch(O){case"TL":P.css({left:E});break;case"TR":P.css({right:E});break;case"BL":P.css({left:E});break;case"BR":P.css({right:E});break}N.appendChild(P[0])}}}}})};d.fn.uncorner=function(){if(c||i||l){this.css(c?"border-radius":i?"-moz-border-radius":"-webkit-border-radius",0)}d("div.jquery-corner",this).remove();return this};d.fn.corner.defaults={useNative:true,metaAttr:"data-corner"}})(jQuery);